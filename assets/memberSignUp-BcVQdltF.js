import{_ as M,a as o,L as A,B as D,u as F,o as R,b as T,c as I,d as j,e as O,i as e,Q as n,R as c,n as v,k as N,S as k,t as h,f as E,w as S,F as Q,U as q,V as G,O as H,p as J,j as K}from"./index-Bj6ZKCGR.js";const i=p=>(J("data-v-0627bed3"),p=p(),K(),p),X={class:"container"},Y=i(()=>e("div",{class:"title"},"會員註冊",-1)),Z={class:"name"},$=i(()=>e("label",{for:"first-name"},null,-1)),ee=i(()=>e("label",{for:"last-name"},null,-1)),ae=i(()=>e("label",{for:"account"},null,-1)),le=i(()=>e("label",{for:"password"},null,-1)),oe=i(()=>e("label",{for:"password-check"},null,-1)),se={class:"dialog-footer"},te={__name:"memberSignUp",setup(p){const w=o(""),_=o(""),y=A(()=>w.value+_.value),g=o(""),m=o(""),b=o(""),r=o(""),u=o(""),t=o(""),B=D(),f=o(!1),U=o(3),z=()=>{r.value="",u.value="",t.value="",y.value===""?r.value="請輸入姓名":q(B,g.value,m.value).then(s=>{const a=s.user;G(a,{displayName:y.value}).then(()=>{f.value=!0;const d=setInterval(()=>{U.value--,U.value===0&&(clearInterval(d),W())},1e3)}).catch(d=>{H({message:"註冊失敗",type:"error"}),console.log(d)})}).catch(s=>{console.log("error",s),s.code==="auth/invalid-email"&&(u.value="請輸入正確Email"),s.code==="auth/email-already-in-use"?u.value="該email已使用":m.value!==b.value?t.value="密碼不相同":(s.code==="auth/missing-password"&&(t.value="密碼不能為空"),s.code==="auth/weak-password"&&(t.value="密碼不能少於6位數"))})},x=F();function P(){x.push({path:"/member"})}function W(){f.value=!1,x.push({path:"/"})}const C=o("500"),V=()=>{C.value=window.innerWidth<767?"300":"500"};return R(()=>{V(),window.addEventListener("resize",V)}),T(()=>{window.removeEventListener("resize",V)}),(s,a)=>{const d=I("el-button"),L=I("el-dialog");return j(),O(Q,null,[e("div",X,[Y,e("div",Z,[$,n(e("input",{class:v(["first",{"error-border":r.value}]),type:"text",id:"first-name",placeholder:"姓","onUpdate:modelValue":a[0]||(a[0]=l=>w.value=l)},null,2),[[c,w.value]]),ee,n(e("input",{type:"text",id:"last-name",placeholder:"名","onUpdate:modelValue":a[1]||(a[1]=l=>_.value=l),class:v({"error-border":r.value})},null,2),[[c,_.value]])]),ae,n(e("input",{type:"text",id:"account",placeholder:"請輸入e-mail","onUpdate:modelValue":a[2]||(a[2]=l=>g.value=l),class:v({"error-border":u.value})},null,2),[[c,g.value]]),le,n(e("input",{type:"password",id:"password",placeholder:"請輸入密碼","onUpdate:modelValue":a[3]||(a[3]=l=>m.value=l),class:v({"error-border":t.value})},null,2),[[c,m.value]]),oe,n(e("input",{type:"password",id:"password-check",placeholder:"再輸入密碼","onUpdate:modelValue":a[4]||(a[4]=l=>b.value=l),class:v({"error-border":t.value})},null,2),[[c,b.value]]),e("div",{class:"logup",onClick:z},"註冊"),e("div",{class:"signin"},[N("已經有帳號?"),e("span",{onClick:P},"立即登入")]),n(e("div",{class:"error"},h(r.value),513),[[k,r.value]]),n(e("div",{class:"error"},h(u.value),513),[[k,u.value]]),n(e("div",{class:"error"},h(t.value),513),[[k,t.value]])]),E(L,{modelValue:f.value,"onUpdate:modelValue":a[5]||(a[5]=l=>f.value=l),title:"提示",width:C.value},{footer:S(()=>[e("div",se,[E(d,{type:"primary",onClick:s.confirmSignIn},{default:S(()=>[N(" 確認 ")]),_:1},8,["onClick"])])]),default:S(()=>[e("span",null,"登入成功，"+h(U.value)+"秒後將自動跳轉",1)]),_:1},8,["modelValue","width"])],64)}}},re=M(te,[["__scopeId","data-v-0627bed3"]]);export{re as default};
